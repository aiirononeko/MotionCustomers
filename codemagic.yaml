# Automatically generated on 2022-06-10 UTC from https://codemagic.io/app/609b2f0f7a26f840ca4768b1/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 7ce102a2-1e28-4356-8595-4aae2d989f1e
        APP_STORE_CONNECT_KEY_IDENTIFIER: GLJHN2DPTQ
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmlvdmJ2TjktYXVrYk9uWmhRZzl0aUVua1MxS3F6Nl9ld3JUZlh5c0JPR1NUc0tTLWlPTlpzcERqVlBqR3paRU5ObzktaEJvbnR3ZDFFUm1aMkhMTXJJMWc1N0IyNVRFXzV2Z1RwNlV4WnRkRFVXakJVU0hFemZ4UXZGUjliTjFidGlnY1NqZm94T0gxM3N6UjdGUWVJWkRNVTI4THFRRUtBLXVzTzhYNmZDcmxuZGY1X21uQW42b1IwWG1IaWtSamRUU3JlS0w0bDdBenZFZGtSamFXTzBuckpYV0JhM2RxazVYMS1UVVM3UHcxczlmdEt2ZjZVNThLdnJxWUdnN2o0WXJHN2lhZlJGOTd0Z3JEUGlWY0VpWVg4QUpsMWREVDhQd25RaE9zcGxYck9SVThTMmVSRXRVWlR2MlNMVHBmbGpPSm9odl93U2hWcjZDODJpYnFYS2xrczVORkpCdUhJMjFCVXVQem5mNmtpbXl6QXlDNnUxbGQxY1NkV2tVek5Fd0t5ZlZseXB4LTMwWEIyWW4xbVF0N3U1RWpCR0d3bVIzT3RxT2NmVjIxLUxNMD0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmlvdmJ2aGdMdkZsYlJkNndOZElsMzcyM0hJM0JmRnlxVEkwTF9IbEI0WWdXNzYyVFVQZFBEdDF1M0lrNHVDN1ZTZ3lCNHJZZ2Q5dUlLcG1Da2VjdXpkY3NMeTBUa3cyNUNSMldHdG9XRWM3V0dCdjB1UjdiMTdlSHE3a2RJeGlmLUxOdHRFUjkxVzAzODlqVjdQeG5xaWpVRWExWmROWUdTWV9Qa3lyc1R4UTVPY2tWYUZjRm96RXdjMXEyTDJMTkFqTHljSlFUSjJrVFhfWDZEVWkzZXp2VFY5anVpZXBXNDFMcl8zTTRYeGRpMmUyTlJWWWVvUzVhbXdFZnAwQVdKT3FKd081bmNWajM4dzA2UTZmbHBaRC1Kek9qOTFrMlZnaDBKZTBLRjk0ZlYyM3lMTF9PRFluOTVjTUtzZ2MtdUtFTWhIcFQzOE81c3Q0X2FHM1loTHZOa2RmYWJTZ19kMTkwTVJWLWxpWEN0bnZPd1NGQzB6eWlFcHpJeDNRZ3dzZ1puRTRRZlRhOC03Ykh5Zzc2V0F0SmdJcnhrYVFSLV9Za05LQUI3d3N3MFllU1cxbVhIUHh3aFpSUi1yVmwtTkR4XzF6aFFFSFM3a1Z1S3pCeGdiRHVoRXFLRFBsa1gtcTZNMnpvUzU2d3ZWendiQV9sZk1CekROMW0wQ0lmRVBXeG5IZEhRLXlBUXAyeF90d3RHVWU2WUI5UjNxcEh2UEJHQ3lwSmdoMy1VdkNoQmY3dDYwSEI2WXJENlhYQWdyNkN0eHladDVvMWlrS3gtY1FwbzBQMUhXbHJ2SGpuYzNDOFM1bjNjcEVUYUhETVZha29OQ3dwM3dWLWtpMEIxa0g2QngyZ2dpWUpqaVBWZDdmSThOZDVwcW9wMGE0b1FpWXFtbmQ2NXc5ZUpDemtWaENOdGktVmM4SVZtaklBRjgzcGg0UXh6M1FDMUpLTHRrTFpqZVFoQ2FSMUtoUjltdTdhTDRCSUF0NFNaSjRxMnpObkQzY01oMDYxdlNCeG83TUd5b18zUFNEME1WSXlvbWhvTkFUWnBfTk5tS2hZemxEdElKNUEzSm5Oa2JiSG40Z212ZERKRGUwMEZyU0JSODBDUUtBZVliMXdrclE5LTE3ZXQ5TWdBWGt2NzllbkNCRmRUb0JsYUxtbThDUGhINXJaVHFDTXlnSUZFMDBhTmJoUUdUX3FTRFVUX0loQm5yRFdsTmhtaFBPa0w3V25fNVdZNktBdFZCa1JRV2I0NVc5a1NXZUZIQ0k0eFg0bU51aWdsREdJZ0Qta0M1NW9GYXFBcEE4NEpKN2VMVU5hR09pVE96b282SDl2aFlZZG5OOXQwcjI3blJNQXdNZjV0YXNzVFdCNDJnSXFtN09FX1FSZU5vTklYMHVSS1hFb1pqa2REMl9hZE14Z09MVUNHQ2NpZDB0YjZOTGRnQ2ZhdHRHNVVOeWRuTEVtMElHZm12SThFNVhySHhXRU05a29yZWJDQVNGbzhxaFpwY1J6RmlBOVl0c2NTNHZvZUdDdEpiWG04Ykx3VWJ1OXhKYTFiVjFESVVLS2R3RU1IUHNJOVRqaW5BR1VwSktvdXI5RnM1MTd6N1JIZUhUc2k0ZEJ1Y0FfMm82WnBEQVJ2THlxM1kxaF9FbHU1N01oTmZNOEx5bXotSjF6UG5Sd3BVSEhOdVdQUVQ3Q3NUeUc0YW5XRnZBQklDSWdCVDcwbFhodkczTWlxNnNrRTFmTk1pM29NZlRiQzVNSWVEZmZISnVraVdMemlMWWxpV0FsY1lRcG9vTkxyeDhPaEpvRC04cllBMWVadVZHTjhFMGdyQ3dkY1JGbGxPVnlNZzZ6Qm5Ydkp0TW5RQ1loRXJBT2kwZHVMSXgyR1QtN0ZzZXBjTUU2bmVIcTlkcFk3WVFBbFV5YXhxaUkzektxWVRWWGhVVzQtNVdhNGlDaHVGOHlTSENDWW8tUW9GNHdkODlVMk4xaElqZGlBeVVsejl5eWV3VGJfRWFlRkpTUGM4MUFTTEpwV01zcDdhS1FyUWxOTEF0YmVqeDZqUkk1eHpxd2JwdTdGdzB3aW5hZi1WODl4LXRMcnJLMmx5UUE3Q3puaDFIdl9NZHJUVmdZY1NFX1FtWk5UYWdpTFNqZlVlNV9NeXd5emFKdW53SXctUTF0SXZIQVlScU9nWHlzSmNtYzJ4OEd4QUxWRlE2RVVqc0wzdDFNUk1fTi1wVzJ0V3dVdWFHSXdxSVhxMTBNSFcxUnBPSG9raE1raDRZdU5mM1FpbUVIZEh2a2tTNUdWRWZmTEVrbEZyY2NJRERmWkczYlBscnhrWmd1SFBUeGNBS0NYdlpBcEJ2NHgyRE5tTVFCdXVjWEtWTENsa0d0WnZhc2c5WnJuaS1iSklnM1JiS2ZzeE00MW83bmdCbER6UlpJY1lGbUlYcElmX2g0aF9URDdoTy1TcmFtWWJodk95ckJ1ZVUtTDFqVVJBOVdvam4zdjFnOXlmNUItbnhHMXB0ZEFOakVnd1JtbnlrZjRaa2lrZnlKRlgycVh1bERxaFVLZHloVlh3Snloc3BoZjMwVnBCZll5UF9OLXl5WjU4bTlKbDAtUmlnbkJ6TWlYNFByaVBOMXl3eF9vdU1vOW5xcndIbVF4MzRJWWlNV2xROXJON2diRnY1dXVsNlhsNWJyUkg4NHZITUthd19zQ2V0bUJvRlFqUmQ3a3NRY0RfMHItaHpsQzVicHJERWNCRmZ6blo1Zllsb2hXMnM2MmVnaVNiVzF3aG9BSmYtRmdZVGV2Z01sTXFSdUZobkJCYTlpdXRTZFA5R2NpX1RoMnU0bERueFNuQW5wZnZnZUZlek9UMVJndUY4NU01UzJBX3NuYWdPT3BzV3p3MURicDhxcVlNaGlkUVZnQ01FTDJONEJ2eWI3N3dkb0xaTS0wVlBfY3RxLWI0dGN4anlUd0xkZ0YyNDF0a2p2S0M5dV83OXZCeDd1X2VBbmUzd1haM0VxNFdWQl9yd3JkU2RQTjdQX0dMRTloMFlJcW9FWTlUZG9KSUVvcE10VEp5bEROZy1EMDhrNm9LTEpr)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: master
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "dev.cuppersMobile" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=~/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - ryota.musicman@gmail.com
      app_store_connect:
        apple_id: ryota.musicman@gmail.com
        password: Encrypted(Z0FBQUFBQmlvdmJ2SWMtOVc4eWtVTjNTMFZKQmQ0STFpX2NiNndIV1FRU0dVeTJDbDNtREthVkVHSzVOVWhORkp2eDlwUExGOHVFbkRvbmxrdUtISElSdjBJYU5vUlZPNGg4akVLT1NIZEtuR0g5QjRYQjZmNmc9)
